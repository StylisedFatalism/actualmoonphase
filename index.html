<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Moon Phase</title>
<style>
  body {
    margin: 0;
    background: #000;
    color: #ddd;
    font-family: system-ui, sans-serif;
    text-align: center;
  }
</style>
</head>
<body>

<div id="contain_moon">
  <div style="font-weight:bold">The moon today</div>
  <div style="padding:20px;"></div>
  <div style="font-size:small"></div>
</div>

<script>
(function(){
  var d = new Date().getDate();
  var m = document.querySelectorAll("#contain_moon div");
  var a = new XMLHttpRequest();
  var url =
    "https://www.icalendar37.net/lunar/api/?lang=en&month=" +
    (new Date().getMonth()+1) +
    "&year=" + new Date().getFullYear() +
    "&size=100&lightColor=rgb(192,192,192)&shadeColor=rgb(64,0,64)&LDZ=" +
    new Date(new Date().getFullYear(), new Date().getMonth(), 1) / 1000;

  a.onreadystatechange = function(){
    if(a.readyState==4 && a.status==200){
      var b = JSON.parse(a.responseText);
      m[1].innerHTML = b.phase[d].svg;
      m[2].innerHTML = "Next full moon<br>" + b.nextFullMoon;
    }
  };
  a.open("GET", url, true);
  a.send();
})();
</script>

</body>
</html>
